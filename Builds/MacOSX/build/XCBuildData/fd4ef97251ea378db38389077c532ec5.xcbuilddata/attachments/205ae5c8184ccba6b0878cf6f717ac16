#!/bin/sh

echo "=== POST-BUILD SCRIPT STARTING ==="
echo "Product type: ${PRODUCT_TYPE}"
echo "Built products dir: ${BUILT_PRODUCTS_DIR}"
echo "Product name: ${PRODUCT_NAME}"
echo "Source Assets: /Users/larryseyer/AudioDevelopment/OTTO/Assets"

# Check if source Assets folder exists
if [ -d "/Users/larryseyer/AudioDevelopment/OTTO/Assets" ]; then
    echo "✓ Source Assets folder exists"
    ls -la "/Users/larryseyer/AudioDevelopment/OTTO/Assets"
else
    echo "✗ Source Assets folder NOT found!"
    exit 1
fi

# For all builds, copy to Resources
TARGET_DIR="${BUILT_PRODUCTS_DIR}/${PRODUCT_NAME}.app/Contents/Resources"
echo "Target directory: ${TARGET_DIR}"

# Create Resources directory if it doesn't exist
mkdir -p "${TARGET_DIR}"

# Copy Assets
cp -r "/Users/larryseyer/AudioDevelopment/OTTO/Assets" "${TARGET_DIR}/"

if [ $? -eq 0 ]; then
    echo "✓ Assets copied successfully"
    echo "Contents of target Resources:"
    ls -la "${TARGET_DIR}"
else
    echo "✗ Failed to copy Assets"
    exit 1
fi

echo "=== POST-BUILD SCRIPT COMPLETED ==="

